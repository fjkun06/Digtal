@use "../../util/mixins";

@mixin methodology-span-before($angle,$position){
  
  &::before {
    content: "";
    background: linear-gradient(to top left, rgb(0, 208, 255) 10%, 20%, rebeccapurple 90%);
    position: absolute;
    @include mixins.size( 20px,20px);

    transform: rotate($angle);
    #{$position}: 100%;
    top: 35%;
    border-radius: 1.5%;
    // clip-path: polygon(0 0,100% 0,100% 100%,0 100%);
    clip-path: polygon(0% 0%, 100% 0%, 50% 100%);
  }
}


@mixin methodology-span($position,$pos_value,$direction,$angle,$side,$alignment) {
  .methodology-span {
    @include mixins.flex(column);
   
@include mixins.size( 25vw,fit-content);
    
    color: #fff;
    background: linear-gradient(to top left, rgb(0, 208, 255) 10%, 20%, rebeccapurple 90%);
    position: absolute;
    #{$position}: $pos_value;
    border-radius: 1.5%;

    transition: all 0.4s ease-in-out;

    //tooltip content
   
    &-text,
    &-title {
    
@include mixins.size( fit-content,fit-content);

    }
    &-text {
      padding:0px 10px 2px 10px;
      font-size: 1.3rem;
      line-height: 2rem;
      font-family: "Roboto", "Verdana", "Helvetica", sans-serif;
      direction: $direction;
    }
    &-title {
      font-size: 1.4rem;

      font-weight: bolder;
      align-self: $alignment;
      padding: 5px 10px 0 10px;
      text-transform: uppercase;
      font-family: "Gudea", "Verdana", "Helvetica", sans-serif;
    }
    // }


    //meth-before-mixin
    @include methodology-span-before($angle,$side );

  }
}

%methodology {
  .home-body-methodology {
    border: 5px solid greenyellow;
    @include mixins.size(74vw, 120vh);
    // width: 74vw;
    // height: 120vh;
    background-color: var(--home-body-inner-bg);
    padding-bottom: 6rem;

    //sub meth container
    &-sub {
      border: 1px solid blue;
      @include mixins.grid;
      row-gap: -1rem;
    @include mixins.size(inherit, 80%);
      
 

      //methodology icons
      .methodology-icon {
        color: #fff;
        font-size: 5rem;
        cursor: pointer;
        transition: all 0.2s ease-in-out;

        &:hover {
          transform: scale(0.95);
        }
      }

      &-one {
        // border: 1px solid red;

        &-child {
          @extend %circle;
          // border: 1px solid red;

          //stage element
          &::before{
            background: linear-gradient(to top left, rgb(0, 208, 255) 10%, 20%, rebeccapurple 90%);
            content: 'Stage One';
              position: absolute;
              // height: fit-content;
              // width: fit-content;
    @include mixins.size(fit-content, fit-content);
              
              color: #fff;
              left: 35%;
              top: 61%;
              padding: 5px 7px;
              border-radius: 5%;
              // background-color: red;

          }



        }
      }

      &-one,&-five{
        &-child{
          @extend %circle;

//methodology-span mixin
@include methodology-span(right,19.25% ,rtl,90deg,right,flex-end );
        }
      }

      &-three,&-seven{
        &-child{
          @extend %circle;

//methodology-span mixin
@include methodology-span(left,20% ,ltr,-90deg,left ,flex-start);
        }
      }
      //linear
      &-two,
      &-four,
      &-six {
        @extend %even;

        &-child {
          @extend %line;
        }
      }

      //circular
      &-seven,
      &-five,
      &-three {
        margin-top: -5rem;
        z-index: 9;

        // &-child {
        //   @extend %circle;
        //   .methodology-span {
        //     @include mixins.flex(column);
        //     @include mixins.size( 25vw,fit-content);

        //     color: #fff;
        //     background: linear-gradient(to top left, rgb(0, 208, 255) 10%, 20%, rebeccapurple 90%);
        //     position: absolute;
        //     left: 20%;
        //     border-radius: 1.5%;

        //     transition: all 0.2s ease-in-out;

        //     //tooltip content
        //     // .methodology{
        //     &-text,
        //     &-title {
        //       @include mixins.size( fit-content,fit-content);

        //     }
        //     &-text {
        //       padding: 0px 10px 2px 10px;
        //       font-size: 1.3rem;
        //       line-height: 2rem;
        //       font-family: "Roboto", "Verdana", "Helvetica", sans-serif;
        //     }
        //     &-title {
        //       // background-color: #591;
        //       font-size: 1.4rem;

        //       font-weight: bolder;
        //       align-self: flex-start;
        //       padding: 5px 10px 0 10px;
        //       text-transform: uppercase;
        //       font-family: "Gudea", "Verdana", "Helvetica", sans-serif;
        //     }
        //     // }

        //     &::before {
        //       content: "";
        //       background: linear-gradient(to top left, rgb(0, 208, 255) 10%, 20%, rebeccapurple 90%);
        //       position: absolute;
        //       @include mixins.size( 20px,20px);

        //       transform: rotate(-90deg);
        //       left: 100%;
        //       top: 35%;
        //       border-radius: 1.5%;
        //       // clip-path: polygon(0 0,100% 0,100% 100%,0 100%);
        //       clip-path: polygon(0% 0%, 100% 0%, 50% 100%);
        //     }
        //   }
        // }
      }

      //three
      &-three{
        &-child{
                //stage element
                &::before{
                  background: linear-gradient(to top left, rgb(0, 208, 255) 10%, 20%, rebeccapurple 90%);
                  content: 'Stage Two';
                    position: absolute;
                    // height: fit-content;
                    // width: fit-content;
          @include mixins.size(fit-content, fit-content);
                    
                    color: #fff;
                    right: 35%;
                    top: 72%;
                    padding: 5px 7px;
                    border-radius: 5%;
                    // background-color: red;
      
                }
        }
      }
      //four
      &-five{
        &-child{
                //stage element
                &::before{
                  background: linear-gradient(to top left, rgb(0, 208, 255) 10%, 20%, rebeccapurple 90%);
                  content: 'Stage Three';
                    position: absolute;
                    // height: fit-content;
                    // width: fit-content;
          @include mixins.size(fit-content, fit-content);
                    
                    color: #fff;
                    left: 35%;
                    top: 83%;
                    padding: 5px 7px;
                    border-radius: 5%;
                    // background-color: red;
      
                }
        }
      }

      //seven
      &-seven{
        &-child{
                //stage element
                &::before{
                  background: linear-gradient(to top left, rgb(0, 208, 255) 10%, 20%, rebeccapurple 90%);
                  content: 'Final Stage';
                    position: absolute;
                    // height: fit-content;
                    // width: fit-content;
          @include mixins.size(fit-content, fit-content);
                    
                    color: #fff;
                    right: 35%;
                    top: 94%;
                    padding: 5px 7px;
                    border-radius: 5%;
                    // background-color: red;
      
                }
        }
      }
    }
  }
}

%circle {
  @include mixins.grid;
  place-items: center;
  background-color: #549;
  @include mixins.size(70px, 70px);
  cursor: pointer;
  background: linear-gradient(to top left, rgb(0, 208, 255) 10%, 20%, rebeccapurple 90%);
  border-radius: 50%;
  transition: all 0.2s ease-in-out;
  // position: relative;
}

%line {
  @include mixins.size(3px, 100px);
  background: linear-gradient(to top, rebeccapurple, 20%, rgb(0, 208, 255));
  transition: all 0.5s ease-in-out;
}

%even {
  @include mixins.grid;
  place-items: center;
  margin-top: -5rem;
}


